<!DOCTYPE html>
<html>
<head>
<title>Highlighted Code</title>
</head>
<body>
<div><h2>Guía de Colores</h2><ul><li><span style="color: red;">Error</span></li><li><span style="color: blue;">Numbers</span></li><li><span style="color: orange;">Operators</span></li><li><span style="color: navy;">Variables</span></li><li><span style="color: olive;">Functions</span></li><li><span style="color: purple;">Reserved</span></li><li><span style="color: green;">String</span></li><li><span style="color: silver;">Comments</span></li><li><span style="color: brown;">Keys_brackets_punctuation</span></li><li><span style="color: black;">Format</span></li></ul></div><hr><pre>
<span style="color: green;">""</span><span style="color: green;">"
:func:`~pandas.eval` source string parsing functions
"</span><span style="color: green;">""</span><br><br><span style="color: purple;">from</span>&nbsp;<span style="color: navy;">__future__</span>&nbsp;<span style="color: purple;">import</span>&nbsp;<span style="color: navy;">annotations</span><br><br><span style="color: purple;">from</span>&nbsp;<span style="color: navy;">io</span>&nbsp;<span style="color: purple;">import</span>&nbsp;<span style="color: navy;">StringIO</span><br><span style="color: purple;">from</span>&nbsp;<span style="color: navy;">keyword</span>&nbsp;<span style="color: purple;">import</span>&nbsp;<span style="color: navy;">iskeyword</span><br><span style="color: purple;">import</span>&nbsp;<span style="color: navy;">token</span><br><span style="color: purple;">import</span>&nbsp;<span style="color: navy;">tokenize</span><br><span style="color: purple;">from</span>&nbsp;<span style="color: navy;">typing</span>&nbsp;<span style="color: purple;">import</span>&nbsp;<span style="color: navy;">TYPE_CHECKING</span><br><br><span style="color: purple;">if</span>&nbsp;<span style="color: navy;">TYPE_CHECKING</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">from</span>&nbsp;<span style="color: navy;">collections</span><span style="color: brown;">.</span><span style="color: navy;">abc</span>&nbsp;<span style="color: purple;">import</span>&nbsp;<span style="color: brown;">(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">Hashable</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">Iterator</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">)</span><br><br><span style="color: silver;"># A token value Python's tokenizer probably will never use.</span><br><span style="color: navy;">BACKTICK_QUOTED_STRING</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: blue;">100</span><br><br><br><span style="color: purple;">def</span>&nbsp;<span style="color: olive;">create_valid_python_identifier</span><span style="color: brown;">(</span><span style="color: navy;">name</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">)</span>&nbsp;<span style="color: orange;">-</span><span style="color: orange;">></span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">""</span><span style="color: green;">"
    Create valid Python identifiers from any string.

    Check if name contains any special characters. If it contains any
    special characters, the special characters will be replaced by
    a special string and a prefix is added.

    Raises
    ------
    SyntaxError
        If the returned name is not a Python valid identifier, raise an exception.
        This can happen if there is a hashtag in the name, as the tokenizer will
        than terminate and not find the backtick.
        But also for characters that fall out of the range of (U+0001..U+007F).
    "</span><span style="color: green;">""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">if</span>&nbsp;<span style="color: navy;">name</span><span style="color: brown;">.</span><span style="color: olive;">isidentifier</span><span style="color: brown;">(</span><span style="color: brown;">)</span>&nbsp;<span style="color: purple;">and</span>&nbsp;<span style="color: purple;">not</span>&nbsp;<span style="color: olive;">iskeyword</span><span style="color: brown;">(</span><span style="color: navy;">name</span><span style="color: brown;">)</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">name</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># Create a dict with the special characters and their replacement string.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># EXACT_TOKEN_TYPES contains these special characters</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># token.tok_name contains a readable description of the replacement string.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">special_characters_replacements</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: brown;">{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">char</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">f</span><span style="color: green;">"_{token.tok_name[tokval]}_"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">for</span>&nbsp;<span style="color: navy;">char</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span>&nbsp;<span style="color: purple;">in</span>&nbsp;<span style="color: brown;">(</span><span style="color: navy;">tokenize</span><span style="color: brown;">.</span><span style="color: navy;">EXACT_TOKEN_TYPES</span><span style="color: brown;">.</span><span style="color: olive;">items</span><span style="color: brown;">(</span><span style="color: brown;">)</span><span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">special_characters_replacements</span><span style="color: brown;">.</span><span style="color: olive;">update</span><span style="color: brown;">(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">" "</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"?"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_QUESTIONMARK_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"!"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_EXCLAMATIONMARK_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"$"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_DOLLARSIGN_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"€"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_EUROSIGN_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"°"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_DEGREESIGN_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># Including quotes works, but there are exceptions.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">"'"</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_SINGLEQUOTE_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">'"'</span><span style="color: brown;">:</span>&nbsp;<span style="color: green;">"_DOUBLEQUOTE_"</span><span style="color: brown;">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># Currently not possible. Terminates parser and won't find backtick.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># "#": "_HASH_",</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">name</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: green;">""</span><span style="color: brown;">.</span><span style="color: olive;">join</span><span style="color: brown;">(</span><span style="color: brown;">[</span><span style="color: navy;">special_characters_replacements</span><span style="color: brown;">.</span><span style="color: olive;">get</span><span style="color: brown;">(</span><span style="color: navy;">char</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">char</span><span style="color: brown;">)</span>&nbsp;<span style="color: purple;">for</span>&nbsp;<span style="color: navy;">char</span>&nbsp;<span style="color: purple;">in</span>&nbsp;<span style="color: navy;">name</span><span style="color: brown;">]</span><span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">name</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: navy;">f</span><span style="color: green;">"BACKTICK_QUOTED_STRING_{name}"</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">if</span>&nbsp;<span style="color: purple;">not</span>&nbsp;<span style="color: navy;">name</span><span style="color: brown;">.</span><span style="color: olive;">isidentifier</span><span style="color: brown;">(</span><span style="color: brown;">)</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">raise</span>&nbsp;<span style="color: purple;">SyntaxError</span><span style="color: brown;">(</span><span style="color: navy;">f</span><span style="color: green;">"Could not convert '{name}' to a valid Python identifier."</span><span style="color: brown;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">name</span><br><br><br><span style="color: purple;">def</span>&nbsp;<span style="color: olive;">clean_backtick_quoted_toks</span><span style="color: brown;">(</span><span style="color: navy;">tok</span><span style="color: brown;">:</span>&nbsp;<span style="color: olive;">tuple</span><span style="color: brown;">[</span><span style="color: navy;">int</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">]</span><span style="color: brown;">)</span>&nbsp;<span style="color: orange;">-</span><span style="color: orange;">></span>&nbsp;<span style="color: olive;">tuple</span><span style="color: brown;">[</span><span style="color: navy;">int</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">]</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">""</span><span style="color: green;">"
    Clean up a column name if surrounded by backticks.

    Backtick quoted string are indicated by a certain tokval value. If a string
    is a backtick quoted token it will processed by
    :func:`_create_valid_python_identifier` so that the parser can find this
    string when the query is executed.
    In this case the tok will get the NAME tokval.

    Parameters
    ----------
    tok : tuple of int, str
        ints correspond to the all caps constants in the tokenize module

    Returns
    -------
    tok : Tuple[int, str]
        Either the input or token or the replacement values
    "</span><span style="color: green;">""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">toknum</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: navy;">tok</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">if</span>&nbsp;<span style="color: navy;">toknum</span>&nbsp;<span style="color: orange;">=</span><span style="color: orange;">=</span>&nbsp;<span style="color: navy;">BACKTICK_QUOTED_STRING</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">tokenize</span><span style="color: brown;">.</span><span style="color: navy;">NAME</span><span style="color: brown;">,</span>&nbsp;<span style="color: olive;">create_valid_python_identifier</span><span style="color: brown;">(</span><span style="color: navy;">tokval</span><span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">toknum</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span><br><br><br><span style="color: purple;">def</span>&nbsp;<span style="color: olive;">clean_column_name</span><span style="color: brown;">(</span><span style="color: navy;">name</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">Hashable</span><span style="color: brown;">)</span>&nbsp;<span style="color: orange;">-</span><span style="color: orange;">></span>&nbsp;<span style="color: navy;">Hashable</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">""</span><span style="color: green;">"
    Function to emulate the cleaning of a backtick quoted name.

    The purpose for this function is to see what happens to the name of
    identifier if it goes to the process of being parsed a Python code
    inside a backtick quoted string and than being cleaned
    (removed of any special characters).

    Parameters
    ----------
    name : hashable
        Name to be cleaned.

    Returns
    -------
    name : hashable
        Returns the name after tokenizing and cleaning.

    Notes
    -----
        For some cases, a name cannot be converted to a valid Python identifier.
        In that case :func:`tokenize_string` raises a SyntaxError.
        In that case, we just return the name unmodified.

        If this name was used in the query string (this makes the query call impossible)
        an error will be raised by :func:`tokenize_backtick_quoted_string` instead,
        which is not caught and propagates to the user level.
    "</span><span style="color: green;">""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">try</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">tokenized</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: olive;">tokenize_string</span><span style="color: brown;">(</span><span style="color: navy;">f</span><span style="color: green;">"`{name}`"</span><span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">tokval</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: olive;">next</span><span style="color: brown;">(</span><span style="color: navy;">tokenized</span><span style="color: brown;">)</span><span style="color: brown;">[</span><span style="color: blue;">1</span><span style="color: brown;">]</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: olive;">create_valid_python_identifier</span><span style="color: brown;">(</span><span style="color: navy;">tokval</span><span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">except</span>&nbsp;<span style="color: purple;">SyntaxError</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">name</span><br><br><br><span style="color: purple;">def</span>&nbsp;<span style="color: olive;">tokenize_backtick_quoted_string</span><span style="color: brown;">(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">token_generator</span><span style="color: brown;">:</span>&nbsp;<span style="color: olive;">Iterator</span><span style="color: brown;">[</span><span style="color: navy;">tokenize</span><span style="color: brown;">.</span><span style="color: navy;">TokenInfo</span><span style="color: brown;">]</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">source</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">string_start</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">int</span><br><span style="color: brown;">)</span>&nbsp;<span style="color: orange;">-</span><span style="color: orange;">></span>&nbsp;<span style="color: olive;">tuple</span><span style="color: brown;">[</span><span style="color: navy;">int</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">]</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">""</span><span style="color: green;">"
    Creates a token from a backtick quoted string.

    Moves the token_generator forwards till right after the next backtick.

    Parameters
    ----------
    token_generator : Iterator[tokenize.TokenInfo]
        The generator that yields the tokens of the source string (Tuple[int, str]).
        The generator is at the first token after the backtick (`)

    source : str
        The Python source code string.

    string_start : int
        This is the start of backtick quoted string inside the source string.

    Returns
    -------
    tok: Tuple[int, str]
        The token that represents the backtick quoted string.
        The integer is equal to BACKTICK_QUOTED_STRING (100).
    "</span><span style="color: green;">""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">for</span>&nbsp;<span style="color: navy;">_</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">start</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">_</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">_</span>&nbsp;<span style="color: purple;">in</span>&nbsp;<span style="color: navy;">token_generator</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">if</span>&nbsp;<span style="color: navy;">tokval</span>&nbsp;<span style="color: orange;">=</span><span style="color: orange;">=</span>&nbsp;<span style="color: green;">"`"</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">string_end</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: olive;">start</span><span style="color: brown;">[</span><span style="color: blue;">1</span><span style="color: brown;">]</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">break</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">return</span>&nbsp;<span style="color: navy;">BACKTICK_QUOTED_STRING</span><span style="color: brown;">,</span>&nbsp;<span style="color: olive;">source</span><span style="color: brown;">[</span><span style="color: navy;">string_start</span><span style="color: brown;">:</span><span style="color: navy;">string_end</span><span style="color: brown;">]</span><br><br><br><span style="color: purple;">def</span>&nbsp;<span style="color: olive;">tokenize_string</span><span style="color: brown;">(</span><span style="color: navy;">source</span><span style="color: brown;">:</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">)</span>&nbsp;<span style="color: orange;">-</span><span style="color: orange;">></span>&nbsp;<span style="color: olive;">Iterator</span><span style="color: brown;">[</span><span style="color: olive;">tuple</span><span style="color: brown;">[</span><span style="color: navy;">int</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">str</span><span style="color: brown;">]</span><span style="color: brown;">]</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: green;">""</span><span style="color: green;">"
    Tokenize a Python source code string.

    Parameters
    ----------
    source : str
        The Python source code string.

    Returns
    -------
    tok_generator : Iterator[Tuple[int, str]]
        An iterator yielding all tokens with only toknum and tokval (Tuple[ing, str]).
    "</span><span style="color: green;">""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">line_reader</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: olive;">StringIO</span><span style="color: brown;">(</span><span style="color: navy;">source</span><span style="color: brown;">)</span><span style="color: brown;">.</span><span style="color: navy;">readline</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">token_generator</span>&nbsp;<span style="color: orange;">=</span>&nbsp;<span style="color: navy;">tokenize</span><span style="color: brown;">.</span><span style="color: olive;">generate_tokens</span><span style="color: brown;">(</span><span style="color: navy;">line_reader</span><span style="color: brown;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># Loop over all tokens till a backtick (`) is found.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: silver;"># Then, take all tokens till the next backtick to form a backtick quoted string</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">for</span>&nbsp;<span style="color: navy;">toknum</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">start</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">_</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">_</span>&nbsp;<span style="color: purple;">in</span>&nbsp;<span style="color: navy;">token_generator</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">if</span>&nbsp;<span style="color: navy;">tokval</span>&nbsp;<span style="color: orange;">=</span><span style="color: orange;">=</span>&nbsp;<span style="color: green;">"`"</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">try</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">yield</span>&nbsp;<span style="color: olive;">tokenize_backtick_quoted_string</span><span style="color: brown;">(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: navy;">token_generator</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">source</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">string_start</span><span style="color: orange;">=</span><span style="color: olive;">start</span><span style="color: brown;">[</span><span style="color: blue;">1</span><span style="color: brown;">]</span>&nbsp;<span style="color: orange;">+</span>&nbsp;<span style="color: blue;">1</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: brown;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">except</span>&nbsp;<span style="color: purple;">Exception</span>&nbsp;<span style="color: purple;">as</span>&nbsp;<span style="color: navy;">err</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">raise</span>&nbsp;<span style="color: purple;">SyntaxError</span><span style="color: brown;">(</span><span style="color: navy;">f</span><span style="color: green;">"Failed to parse backticks in '{source}'."</span><span style="color: brown;">)</span>&nbsp;<span style="color: purple;">from</span>&nbsp;<span style="color: navy;">err</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">else</span><span style="color: brown;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: purple;">yield</span>&nbsp;<span style="color: navy;">toknum</span><span style="color: brown;">,</span>&nbsp;<span style="color: navy;">tokval</span><br><br>&nbsp;
</pre></body>
</html>